{"ast":null,"code":"// import React, { useState } from 'react';\n// import { QuantitySelector } from \"./components/QuantitySelector\"\nimport{megapack,megapack_2,megapack_xl,powerpack,logo,language}from'./assets';// import './App.css';\nconst data=[{id:\"mpxl\",name:\"MegapackXL\",cost:\"$120,000\",energy:\"4 MWh\",totalCost:\"$1567,000\",totalEnergy:\"8MWH\"},{id:\"mp2\",name:\"Megapack2\",cost:\"$80,000\",energy:\"3 MWh\",totalCost:\"$1567,000\",totalEnergy:\"8MWH\"},{id:\"mp\",name:\"Megapack\",cost:\"$50,000\",energy:\"2 MWh\",totalCost:\"$1567,000\",totalEnergy:\"8MWH\"},{id:\"pp\",name:\"Powerpack\",cost:\"$10,000\",energy:\"1 MWh\",totalCost:\"$1567,000\",totalEnergy:\"8MWH\"}// {\n//   id: \"t\",\n//   name: \"Transformer\",\n//   cost: \"$10,000\",\n//   energy: \"-0.5 MWh\",\n//   totalCost:\"$1567,000\",\n//   totalEnergy: \"8MWH\",\n// },\n];const data2={mpxl:{id:\"mpxl\",name:\"MegapackXL\",cost:120000,energy:4,size:400,totalCost:1567000,totalEnergy:\"8MWH\"},mp2:{id:\"mp2\",name:\"Megapack2\",cost:80000,energy:3,size:300,totalCost:1567000,totalEnergy:\"8MWH\"},mp:{id:\"mp\",name:\"Megapack\",cost:50000,energy:2,size:300,totalCost:1567000,totalEnergy:\"8MWH\"},pp:{id:\"pp\",name:\"Powerpack\",cost:10000,energy:1,size:100,totalCost:1567000,totalEnergy:\"8MWH\"},t:{id:\"t\",name:\"Transformer\",cost:10000,energy:-0.5,size:100,totalCost:1567000,totalEnergy:\"8MWH\"}};// export default App;\nimport React,{useEffect,useRef,useState}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){useEffect(()=>{fetch('/api/hello').then(response=>response.json()).then(data=>setMessage(data.message)).catch(error=>console.error('Error fetching data:',error));},[]);const[transformerCount,setTransformerCount]=useState(0);const[totalCost,setTotalCost]=useState(0);const[totalEnergy,setTotalEnergy]=useState(0);const[totalSize,setTotalSize]=useState(0);const[totalCount,setTotalCount]=useState(0);// Initial state of boxes as an array\nconst[boxes,setBoxes]=useState([]);const getBoxes=counts=>{console.log(\"counts\",counts);const items=[];const countItems=Object.entries(counts);let prevSize=0;let idx=0;countItems.forEach(_ref=>{let[battery,count]=_ref;while(count>0){const item={type:battery,id:\"\".concat(battery,\"_\").concat(idx),x:idx%2===0?0:idx%2*prevSize,y:Math.floor(idx/2)*100};items.push(item);count--;idx++;prevSize=data2[battery].size;}});console.log(items);setBoxes(items);};const containerRef=useRef(null);const draggedBoxId=useRef(null);const isDragging=useRef(false);const dragStartCoords=useRef({startX:0,startY:0,startLeft:0,startTop:0});const[counts,setCounts]=useState({mpxl:0,mp2:0,mp:0,pp:0// t: 0,\n});const onMouseDown=(e,boxId)=>{const box=document.getElementById(boxId);if(!box)return;isDragging.current=true;draggedBoxId.current=boxId;dragStartCoords.current.startX=e.clientX;dragStartCoords.current.startY=e.clientY;dragStartCoords.current.startLeft=box.offsetLeft;dragStartCoords.current.startTop=box.offsetTop;};useEffect(()=>{if(!containerRef.current)return;const container=containerRef.current;const onMouseUp=()=>{isDragging.current=false;draggedBoxId.current=null;};const onMouseMove=e=>{if(!isDragging.current||!draggedBoxId.current)return;const boxId=draggedBoxId.current;const box=document.getElementById(boxId);if(!box)return;const nextX=e.clientX-dragStartCoords.current.startX+dragStartCoords.current.startLeft;const nextY=e.clientY-dragStartCoords.current.startY+dragStartCoords.current.startTop;box.style.left=\"\".concat(nextX,\"px\");box.style.top=\"\".concat(nextY,\"px\");};container.addEventListener('mousemove',onMouseMove);container.addEventListener('mouseup',onMouseUp);container.addEventListener('mouseleave',onMouseUp);return()=>{container.removeEventListener('mousemove',onMouseMove);container.removeEventListener('mouseup',onMouseUp);container.removeEventListener('mouseleave',onMouseUp);};},[]);useEffect(()=>{// Update box positions in state when positions are changed\nif(draggedBoxId.current){const boxId=draggedBoxId.current;const updatedBoxes=boxes.map(box=>{if(box.id===boxId){var _boxElement$offsetLef,_boxElement$offsetTop;const boxElement=document.getElementById(boxId);return{...box,x:(_boxElement$offsetLef=boxElement===null||boxElement===void 0?void 0:boxElement.offsetLeft)!==null&&_boxElement$offsetLef!==void 0?_boxElement$offsetLef:box.x,y:(_boxElement$offsetTop=boxElement===null||boxElement===void 0?void 0:boxElement.offsetTop)!==null&&_boxElement$offsetTop!==void 0?_boxElement$offsetTop:box.y};}return box;});setBoxes(updatedBoxes);}},[boxes]);useEffect(()=>{getTotals();getBoxes(counts);},[counts]);const getTransformerCount=updatedCounts=>{const total=Object.values(updatedCounts).reduce((acc,curr)=>acc+curr,0);return Math.floor(total/2);};const handleQuantityChange=(e,id)=>{const newCounts={...counts,[id]:parseInt(e.target.value)};setCounts(newCounts);const transformerCount=getTransformerCount(newCounts);setTransformerCount(transformerCount);};const getTotals=()=>{const count=counts.mpxl+counts.mp2+counts.mp+counts.pp;const cost=data2.mpxl.cost*counts.mpxl+data2.mp2.cost*counts.mp2+data2.mp.cost*counts.mp+data2.pp.cost*counts.pp+data2.t.cost*transformerCount;const energy=data2.mpxl.energy*counts.mpxl+data2.mp2.energy*counts.mp2+data2.mp.energy*counts.mp+data2.pp.energy*counts.pp+data2.t.energy*transformerCount;const size=data2.mpxl.size*counts.mpxl+data2.mp2.size*counts.mp2+data2.mp.size*counts.mp+data2.pp.size*counts.pp+data2.t.size*transformerCount;setTotalCost(cost);setTotalEnergy(energy);setTotalSize(size);setTotalCount(count);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"logo\"}),/*#__PURE__*/_jsx(\"img\",{src:language,className:\"language\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Select Batteries\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Total Cost\"}),/*#__PURE__*/_jsx(\"p\",{children:totalCost})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Total Energy\"}),/*#__PURE__*/_jsx(\"p\",{children:totalEnergy})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Total Size\"}),/*#__PURE__*/_jsx(\"p\",{children:totalSize})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Battery Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cost/Unit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Energy/Unit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[data.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.cost}),/*#__PURE__*/_jsx(\"td\",{children:item.energy}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"quantity-selector\",children:/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"quantity count\",max:\"1000\",min:\"0\",type:\"number\",value:counts[item.id],onChange:e=>handleQuantityChange(e,item.id)})})})]},index)),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\\"Transformer\\\"\"}),/*#__PURE__*/_jsx(\"td\",{children:\"10000\"}),/*#__PURE__*/_jsx(\"td\",{children:\"-0.5\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"quantity-selector\",children:/*#__PURE__*/_jsx(\"input\",{disabled:true,\"aria-label\":\"quantity count\",type:\"number\",value:transformerCount})})})]})]})]}),/*#__PURE__*/_jsx(\"span\",{children:\"1 transformer is neded for every 2 batteries purchased\"})]})]}),/*#__PURE__*/_jsx(\"div\",{ref:containerRef,className:\"container\",children:boxes.map(box=>/*#__PURE__*/_jsx(\"div\",{id:box.id,className:\"box \".concat(box.type),style:{left:\"\".concat(box.x,\"px\"),top:\"\".concat(box.y,\"px\")},onMouseDown:e=>onMouseDown(e,box.id),children:box.id},box.id))})]})]});}export default App;","map":{"version":3,"names":["megapack","megapack_2","megapack_xl","powerpack","logo","language","data","id","name","cost","energy","totalCost","totalEnergy","data2","mpxl","size","mp2","mp","pp","t","React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","fetch","then","response","json","setMessage","message","catch","error","console","transformerCount","setTransformerCount","setTotalCost","setTotalEnergy","totalSize","setTotalSize","totalCount","setTotalCount","boxes","setBoxes","getBoxes","counts","log","items","countItems","Object","entries","prevSize","idx","forEach","_ref","battery","count","item","type","concat","x","y","Math","floor","push","containerRef","draggedBoxId","isDragging","dragStartCoords","startX","startY","startLeft","startTop","setCounts","onMouseDown","e","boxId","box","document","getElementById","current","clientX","clientY","offsetLeft","offsetTop","container","onMouseUp","onMouseMove","nextX","nextY","style","left","top","addEventListener","removeEventListener","updatedBoxes","map","_boxElement$offsetLef","_boxElement$offsetTop","boxElement","getTotals","getTransformerCount","updatedCounts","total","values","reduce","acc","curr","handleQuantityChange","newCounts","parseInt","target","value","children","className","src","index","max","min","onChange","disabled","ref"],"sources":["/Users/rongsiu/Desktop/tesla/client/src/App.js"],"sourcesContent":["// import React, { useState } from 'react';\n\n// import { QuantitySelector } from \"./components/QuantitySelector\"\n\nimport { megapack, megapack_2, megapack_xl, powerpack, logo, language } from './assets'; \n\n// import './App.css';\n\nconst data = [{\n  id: \"mpxl\",\n  name: \"MegapackXL\",\n  cost: \"$120,000\",\n  energy: \"4 MWh\",\n  totalCost:\"$1567,000\",\n  totalEnergy: \"8MWH\",\n}, {\n  id: \"mp2\",\n  name: \"Megapack2\",\n  cost: \"$80,000\",\n  energy: \"3 MWh\",\n  totalCost:\"$1567,000\",\n  totalEnergy: \"8MWH\",\n},\n{\n  id: \"mp\",\n  name: \"Megapack\",\n  cost: \"$50,000\",\n  energy: \"2 MWh\",\n  totalCost:\"$1567,000\",\n  totalEnergy: \"8MWH\",\n},\n{\n  id: \"pp\",\n  name: \"Powerpack\",\n  cost: \"$10,000\",\n  energy: \"1 MWh\",\n  totalCost:\"$1567,000\",\n  totalEnergy: \"8MWH\",\n},\n// {\n//   id: \"t\",\n//   name: \"Transformer\",\n//   cost: \"$10,000\",\n//   energy: \"-0.5 MWh\",\n//   totalCost:\"$1567,000\",\n//   totalEnergy: \"8MWH\",\n// },\n]\n\n\nconst data2 = {\n  mpxl: {\n  id: \"mpxl\",\n  name: \"MegapackXL\",\n  cost: 120000,\n  energy: 4,\n  size: 400,\n  totalCost:1567000,\n  totalEnergy: \"8MWH\",\n}, \nmp2: {\n  id: \"mp2\",\n  name: \"Megapack2\",\n  cost: 80000,\n  energy: 3,\n  size: 300,\n  totalCost:1567000,\n  totalEnergy: \"8MWH\",\n},\nmp: {\n  id: \"mp\",\n  name: \"Megapack\",\n  cost: 50000,\n  energy: 2,\n  size: 300,\n  totalCost:1567000,\n  totalEnergy: \"8MWH\",\n},\npp: {\n  id: \"pp\",\n  name: \"Powerpack\",\n  cost: 10000,\n  energy: 1,\n  size: 100,\n  totalCost:1567000,\n  totalEnergy: \"8MWH\",\n},\nt: {\n  id: \"t\",\n  name: \"Transformer\",\n  cost: 10000,\n  energy: -0.5,\n  size: 100,\n  totalCost:1567000,\n  totalEnergy: \"8MWH\",\n}\n}\n\n// export default App;\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\n\nfunction App() {\n\n  useEffect(() => {\n    fetch('/api/hello')\n      .then(response => response.json())\n      .then(data => setMessage(data.message))\n      .catch(error => console.error('Error fetching data:', error));\n  }, []);\n\n  const [transformerCount, setTransformerCount] = useState(0);\n  const [totalCost, setTotalCost] = useState(0)\n  const [totalEnergy, setTotalEnergy] = useState(0)\n  const [totalSize, setTotalSize] = useState(0)\n  const [totalCount, setTotalCount] = useState(0)\n\n  // Initial state of boxes as an array\n  const [boxes, setBoxes] = useState([]);\n\n  const getBoxes = (counts) => {\n    console.log(\"counts\", counts)\n    const items = []\n    const countItems = Object.entries(counts)\n    let prevSize = 0\n    let idx = 0\n\n    countItems.forEach(([battery, count]) => {\n\n      while(count > 0) {\n        const item = {\n          type: battery,\n          id: `${battery}_${idx}`,\n          x: idx % 2 === 0 ? 0 : idx % 2 * prevSize,\n          y: Math.floor(idx/ 2) * 100\n        }\n\n        items.push(item)\n\n        count--\n        idx++\n        prevSize = data2[battery].size \n      }\n\n    })\n\n    console.log(items)\n\n    setBoxes(items)\n  }\n\n  const containerRef = useRef(null);\n  const draggedBoxId = useRef(null);\n  const isDragging = useRef(false);\n  const dragStartCoords = useRef({\n    startX: 0,\n    startY: 0,\n    startLeft: 0,\n    startTop: 0\n  });\n\n  const [counts, setCounts] = useState({\n    mpxl: 0,\n    mp2: 0,\n    mp: 0,\n    pp: 0,\n    // t: 0,\n  });\n\n\n\n\n  const onMouseDown = (e, boxId) => {\n    const box = document.getElementById(boxId);\n    if (!box) return;\n\n    isDragging.current = true;\n    draggedBoxId.current = boxId;\n    dragStartCoords.current.startX = e.clientX;\n    dragStartCoords.current.startY = e.clientY;\n    dragStartCoords.current.startLeft = box.offsetLeft;\n    dragStartCoords.current.startTop = box.offsetTop;\n  }\n\n\n\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    const container = containerRef.current;\n\n    const onMouseUp = () => {\n      isDragging.current = false;\n      draggedBoxId.current = null;\n    }\n\n    const onMouseMove = (e) => {\n      if (!isDragging.current || !draggedBoxId.current) return;\n\n      const boxId = draggedBoxId.current;\n      const box = document.getElementById(boxId);\n      if (!box) return;\n\n      const nextX = e.clientX - dragStartCoords.current.startX + dragStartCoords.current.startLeft;\n      const nextY = e.clientY - dragStartCoords.current.startY + dragStartCoords.current.startTop;\n\n      box.style.left = `${nextX}px`;\n      box.style.top = `${nextY}px`;\n    }\n\n    container.addEventListener('mousemove', onMouseMove);\n    container.addEventListener('mouseup', onMouseUp);\n    container.addEventListener('mouseleave', onMouseUp);\n\n    return () => {\n      container.removeEventListener('mousemove', onMouseMove);\n      container.removeEventListener('mouseup', onMouseUp);\n      container.removeEventListener('mouseleave', onMouseUp);\n    };\n  }, []);\n\n  useEffect(() => {\n    // Update box positions in state when positions are changed\n    if (draggedBoxId.current) {\n      const boxId = draggedBoxId.current;\n      const updatedBoxes = boxes.map(box => {\n        if (box.id === boxId) {\n          const boxElement = document.getElementById(boxId);\n          return {\n            ...box,\n            x: boxElement?.offsetLeft ?? box.x,\n            y: boxElement?.offsetTop ?? box.y,\n          };\n        }\n        return box;\n      });\n      setBoxes(updatedBoxes);\n    }\n  }, [boxes]);\n\n\n  useEffect(() => {\n    getTotals();\n    getBoxes(counts)\n  }, [counts]);\n\n  const getTransformerCount = (updatedCounts) => {\n    const total = Object.values(updatedCounts).reduce((acc, curr) => acc + curr, 0);\n    return Math.floor(total / 2);\n  };\n\n\n\n  const handleQuantityChange = (e, id) => {\n    const newCounts = {\n      ...counts,\n      [id]: parseInt(e.target.value),\n    };\n\n    setCounts(newCounts);\n\n    const transformerCount = getTransformerCount(newCounts);\n\n    setTransformerCount(transformerCount)\n  };\n\n  const getTotals = () => {\n    const count = counts.mpxl + counts.mp2 + counts.mp + counts.pp\n    const cost = data2.mpxl.cost * counts.mpxl + data2.mp2.cost * counts.mp2 + data2.mp.cost * counts.mp + data2.pp.cost * counts.pp + data2.t.cost * transformerCount\n    const energy = data2.mpxl.energy * counts.mpxl + data2.mp2.energy * counts.mp2 + data2.mp.energy * counts.mp + data2.pp.energy * counts.pp + data2.t.energy * transformerCount\n    const size = data2.mpxl.size * counts.mpxl + data2.mp2.size * counts.mp2 + data2.mp.size * counts.mp + data2.pp.size * counts.pp + data2.t.size * transformerCount\n\n    setTotalCost(cost)\n    setTotalEnergy(energy)\n    setTotalSize(size)\n    setTotalCount(count)\n  }\n\n\n  return (\n    <>\n      <div className=\"header\">\n        <img src={logo} className=\"logo\"></img>\n        <img src={language} className=\"language\"></img>\n      </div>\n\n        <div className=\"main\">\n          <div className=\"dashboard\">\n            <div className=\"total\">\n              <h1>Select Batteries</h1>\n\n              <div>\n                <p>Total Cost</p>\n                <p>{totalCost}</p>\n              </div>\n              <div>\n                <p>Total Energy</p>\n                <p>{totalEnergy}</p>\n              </div>\n              <div>\n                <p>Total Size</p>\n                <p>{totalSize}</p>\n              </div>\n            </div>\n            <div className=\"quantity\">\n              <table className=\"table\">\n                <thead>\n                  <tr>\n                    <th>Battery Type</th>\n                    <th>Cost/Unit</th>\n                    <th>Energy/Unit</th>\n                    <th>Quantity</th>\n                    {/* <th>Total Cost</th>\n                    <th>Total Energy</th> */}\n                  </tr>\n                </thead>\n                <tbody>\n                  {data.map((item, index) => (\n                    <tr key={index}>\n                      <td>{item.name}\n                      {/* <img src={megapack_xl} alt=\"Description of the image\" /> */}\n                      </td>\n                      <td>{item.cost}</td>\n                      <td>{item.energy}</td>\n                      <td>{<div className=\"quantity-selector\">\n                      <input aria-label=\"quantity count\" max=\"1000\" min=\"0\" type=\"number\" value={counts[item.id]} onChange={(e) => handleQuantityChange(e, item.id)}/>\n                    </div>}</td>\n                      {/* <td>{item.totalCost}</td>\n                      <td>{item.totalEnergy}</td> */}\n                    </tr>\n                  ))}\n                  <tr>\n                      <td>\"Transformer\"</td>\n                      <td>10000</td>\n                      <td>-0.5</td>\n                      <td>{<div className=\"quantity-selector\">\n                      <input disabled aria-label=\"quantity count\" type=\"number\" value={transformerCount}/>\n                    </div>}</td>\n                    </tr>\n                </tbody>\n              </table>\n              <span>1 transformer is neded for every 2 batteries purchased</span>\n            </div>\n          </div>\n          <div ref={containerRef} className=\"container\">\n            {boxes.map(box => (\n              <div\n                key={box.id}\n                id={box.id}\n                className={`box ${box.type}`}\n                style={{ left: `${box.x}px`, top: `${box.y}px` }}\n                onMouseDown={(e) => onMouseDown(e, box.id)}\n              >\n                {box.id}\n              </div>\n            ))}\n          </div>\n        </div>\n    </>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}